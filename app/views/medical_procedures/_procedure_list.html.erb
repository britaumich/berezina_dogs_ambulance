<%= turbo_frame_tag 'medical_procedures' do %>
  <div class="min-w-full">
    <table class="mi_table" id="desk-table">
      <thead class="border border-l-0 border-r-0 border-gray-750">
        <tr>
          <th class="header_th"><%= sort_link(@q, :animal_id, t('activerecord.attributes.medical_procedure.animal_id')) %></th>
          <th class="header_th"><%= sort_link(@q, :procedure_type_id, t('activerecord.attributes.medical_procedure.procedure_type_id')) %></th>
          <th class="header_th"><%= sort_link(@q, :date_complete, t('activerecord.attributes.medical_procedure.date_complete')) %></th>
          <th class="header_th"><%= sort_link(@q, :date_planned, t('activerecord.attributes.medical_procedure.date_planned')) %></th>
          <th class="header_th"><%= t('forms.buttons.edit') %></th>
          <th class="header_th"><%= t('forms.buttons.delete') %></th>
        </tr>
      </thead>
      <tbody>
        <% @medical_procedures.each do |medical_procedure| %>
          <rt>
            <td class="mi_tbody_td">
              <%= link_to animal_path(medical_procedure), class: "link_to", data: {turbo_frame: "_top"} do %>
                <%= show_animal(medical_procedure.animal) %>
              <% end %>
            </td>
            <td class="mi_tbody_td">
              <%= link_to medical_procedure_path(medical_procedure), class: "link_to", data: {turbo_frame: "_top"} do %>
                <%= medical_procedure.procedure_type.name %>
              <% end %>
            </td>
            <td class="mi_tbody_td">
              <%= medical_procedure.date_complete %>
            </td>
            <td class="mi_tbody_td">
              <%= medical_procedure.date_planned %>
            </td>
            <td class="mi_tbody_td">
              <%= link_to edit_medical_procedure_path(medical_procedure), data: { turbo_frame: "_top" }, aria: { label: "#{dom_id(medical_procedure)}_edit" } do%>
                <i class="fa fa-pencil text-950"></i>
              <% end %>
            </td>
            <td class="mi_tbody_td">
              <%= link_to medical_procedure_path(medical_procedure), data: { turbo_confirm: t('text.Are you sure?'), turbo_method: :delete}, aria: { label: "#{dom_id(medical_procedure)}_delete" }  do %>
                <i class="fa fa-trash-can text-red-950"></i>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% end %>
